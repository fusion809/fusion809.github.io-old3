## Gentoo Linux
{% include_relative os-shot.html image="Gentoo-Linux-12.0.jpg" float="none" description="Gentoo Linux 12.0, taken from Wikimedia Commons" width="1130px" %}

### Background
{% include_relative os.md os="Gentoo Linux" dw="gentoo" d="https://www.gentoo.org/downloads/" bugs="https://bugs.gentoo.org/" irc="https://www.gentoo.org/get-involved/irc-channels/all-channels.html" ml="https://www.gentoo.org/get-involved/mailing-lists/all-lists.html" wiki="https://wiki.gentoo.org/wiki/Main_Page" wp="Gentoo Linux" docs="https://wiki.gentoo.org/wiki/Main_Page" url="https://www.gentoo.org/" %} is an independent Linux distribution that was originally known as **Enoch Linux** and founded in 1999 by a Canadian-born American computer programmer and software engineer named [Daniel Robbins](https://en.wikipedia.org/wiki/Daniel_Robbins_(computer_programmer)). As far as Linux distributions go, it is, in my limited experience, the most difficult-to-use and to setup Linux distribution around. This is because its package management system, **Portage**, while incredibly powerful is also slow, difficult-to-learn and difficult-to-use.

{% include_relative gentoo-penguins.html %}
Unlike most package managers Portage installs software primarily (although binary installs are also possible) from source code using instructions found in specialized Bash scripts known as [**ebuilds**](https://fusion809.github.io/man/ebuild.5.html). Installing software from source code optimizes the control users have over their system, as it means that features they want they can enable in a package when they configure its source code, while features they do not want they can also disable at the configure stage. Unfortunately, however, compiling software from source code also means that software installation takes longer than it would if one were installing from a binary package instead. Gentoo Linux's name refers to [gentoo penguins](https://en.wikipedia.org/wiki/Gentoo_penguin), a species of penguin renowned for their speed. See by compiling its software from source code it was hoped that this would optimize the software's performance once installed.

The non-profit foundation that supports the development of Gentoo Linux, the Gentoo Foundation, was founded in 1999 by Robbins. The first stable release of Gentoo Linux was made in 2002. Daniel Robbins later left the project in 2004 to create a new Linux distribution called Funtoo Linux (which is derived from Gentoo) which is free too (contrary to my previous belief that it was not). In its early days Gentoo was actually one of the most popular Linux distributions around, at least according to *DistroWatch*, but with time its popularity fell (presently it is ranked 41st according to *DistroWatch*, for popularity) as fewer and fewer people had the skill, inclination and the time to build their system from the ground up with Portage. In fact, I do not even have the skill to install Gentoo manually, instead I took the easy way out and used [Packer](https://github.com/d11wtq/gentoo-packer) to build a virtual machine with it installed. Even with the assistance of Packer I am struggling to use Gentoo Linux because of Portage-related difficulties (see the package management section for details).

The power and versatility of Portage is best illustrated by the mere fact that Gentoo is second only to Debian in the number of architecture types it has been ported to. Portage has even been ported to non-Linux &#42;nix operating systems, including:

* The &#42;BSDs including FreeBSD, NetBSD and OpenBSD.
* Darwin
* GNU (with the Hurd kernel)
* OS X

I think of Gentoo Linux as essentially a more complex, customizable and portable version of Arch Linux. See like Arch, a fresh installation has nothing but the command-line and some basic packages to it and anything more than this must be built from the ground-up by the user. Arch Linux's package manager, pacman, uses binary packages and does not give one a choice of which features of the package will be built and which will not, while Gentoo's Portage, gives total control over which features are built and which are not.

### Package Management
As previously mentioned Portage ([`emerge`](https://fusion809.github.io/man/emerge.1.html) from the command-line) is the package manager of Gentoo Linux although several derivatives of Gentoo Linux also use Portage. Portage is written in Python and Bash script &mdash; according to [GitHub](https://github.com/gentoo/portage) these languages make up 93.6% and 6.4% of Portage's source code, respectively, as of {{ page.date | date: "%d %B %Y" }}.

Portage was inspired by the BSD ports system, the most significant differences are that Portage automates installation for one (unlike the ports system where you need to cd to the port directory and run {% include Code/coders.html line1="make install" %}) and also includes several advanced features including fake installs, safe unmerging, system profiles, virtual packages, dependency-resolution, config file management, *etc.* Another key difference from BSD ports is that Portage uses a type of specialized Bash script known as an ebuild to tell Portage how to build a program. ebuild writing I must say, is much more complicated than writing a PKGBUILD. This is because ebuilds include several special functions that are only used by Portage, which while they can make things simpler for those that know what they are doing, they can be difficult to learn and intimidating to see, for newcomers. PKGBUILDs, however, are usually more simple than ebuilds as they have fewer special functions.

ebuilds for Portage are stored in the **Portage Tree** and other **Gentoo Portage overlays** (GPOs). The Portage Tree contains the best-tested and most scrutinously-analysed ebuilds, while the GPOs contain user-written ebuilds that may, or may not, be safe to use as they have not been as rigorously tested. The Portage Tree presently contains over 18,750 distinct ebuilds and the GPOs contains approximately 25,450 distinct ebuilds, not including the different versions of the same package. The Gentoo Foundation has created its own tool for maintaining GPOs that is called **Layman** ([`layman`](https://fusion809.github.io/man/layman.8.html) from the command-line). This tool has a list of GPOs maintained by the Gentoo Foundation (the Layman remote list), that a new overlay can be added to by requesting its addition at the Gentoo bugzilla. Some (but not all) GPOs are in the Layman remote list and hence can be added using {% include Code/coders.html line1="layman -a &lt;OVERLAY&gt;" %} where `<OVERLAY>` is the overlay's name as it appears in the Layman remote list. For example, to add my GPO, [`sabayon-tools`](https://github.com/fusion809/sabayon-tools), one would run {% include Code/coders.html line1="layman -a sabayon-tools" %}.

{% include_relative layman-portage-scripts.md %}

Running the `emup` function is what gives the issues I previously mentioned in this post. See often when I run this command I get error messages regarding package conflicts that would occur if an upgrade is performed and what is worse is that this happens on every Gentoo and Sabayon (a Gentoo derivative that is covered later in this post) installation I have ever run this command on. I sort of know how to resolve this problem (a trial and error game with masking packages, changing USE flags and keywords, *etc.*) but since the number of package conflicts this message mentions is often so much that it cannot even fit the list in the limited memory of my terminal emulator, it would probably take me weeks to make the adjustments needed, so quite often I just give up.

### Derivatives
{% include_relative derivatives.md os="Gentoo" %}
Gentoo has a few different derivatives, the most notable one is probably [Sabayon Linux](#sabayon-linux) which is covered later in this post, other notable Gentoo derivatives include:

* [Calculate Linux](http://www.calculate-linux.org/), which I have managed to install on a VM, although I did not use it much as I was turned off by Portage. It is currently ranked 77th by the *DistroWatch* website for popularity and is compatible with both i686 and x86_64 processors.
* [Chrome OS/Chromium OS](https://www.chromium.org/chromium-os), which I have never used. It is not ranked by *DistroWatch*.
* [Funtoo Linux](http://www.funtoo.org/Welcome), which I have also never used. It is ranked 152nd for popularity according to *DistroWatch* and supports i486, i686, x86_64 and sparc64 architectures.

{% include_relative specs.md arch="i486, i586, i686, x86_64, alpha, arm, hppa, mips, powerpc, ppc64, sparc64." origin="U.S.A." date="1999 (Gentoo Foundation, year of founding) or 2002 (year Gentoo 1.0 was first released). Depending on how you define it." shell="Bash." ui="Command-line." im="From live media or from stage tarballs." type="Linux." ob="<2. Minimalistic like Arch Linux, hence fairly little out-of-the-box support." pm="Portage" rm="Rolling." tm="Advanced users, that have a lot of time on their hands and patience, and want to build their system from the ground-up." %}

{% include_relative os-min.md cpu="i486." ram="256 MB." HDD="2.75 GB (including swap)." ims="~200 MB." %}

{% include_relative gentoo-ratings.md %}
